{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Misha\\\\source\\\\repos\\\\5 semester\\\\WEB\\\\lab4_client\\\\src\\\\components\\\\Order Components\\\\OrderForm\\\\OrderForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport classes from \"./OrderForm.module.css\";\nimport { useFetching } from \"../../../hooks/useFetching\";\nimport NewsService from \"../../../API/NewsService\";\nimport { Context } from \"../../../context\";\nimport HotelService from \"../../../API/HotelService\";\nimport OrderService from \"../../../API/OrderService\";\nimport MyInput from \"../../MyInput/MyInput\";\nimport Loader from \"../../Loader/Loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderForm = ({\n  setVisible,\n  hotelID\n}) => {\n  _s();\n  const {\n    user\n  } = useContext(Context);\n  const [client, setClient] = useState({\n    // Initialize with your POST data\n    last_name: '',\n    first_name: '',\n    patronymic: '',\n    email: '',\n    phone_number: '',\n    date: ''\n    // ...\n  });\n\n  const [order, setOrder] = useState({\n    // Initialize with your POST data\n    hotel: hotelID,\n    departure_date: ''\n    // ...\n  });\n\n  const [addOrder, isLoading, error] = useFetching(async e => {\n    // e.preventDefault();\n    console.log(\"Client: \", client);\n    console.log(\"Order: \", order);\n    order.hotel = hotelID;\n    await OrderService.postItem(client, order, user.token);\n    // console.log(n);\n    // console.log(error);\n    if (!error) {\n      setVisible(false);\n    }\n  });\n  function ClientChange(e) {\n    setClient({\n      ...client,\n      [e.target.name]: e.target.value\n    });\n  }\n  ;\n  function OrderChange(e) {\n    setOrder({\n      ...order,\n      [e.target.name]: e.target.value\n    });\n  }\n  ;\n  return isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n    className: classes.orderForm,\n    onSubmit: addOrder,\n    children: [/*#__PURE__*/_jsxDEV(MyInput, {\n      label: \"Last name\",\n      name: \"last_name\",\n      onChange: ClientChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n      label: \"First name\",\n      name: \"first_name\",\n      onChange: ClientChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n      label: \"Patronymic\",\n      name: \"patronymic\",\n      onChange: ClientChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n      label: \"Email\",\n      name: \"email\",\n      onChange: ClientChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n      label: \"Phone number\",\n      name: \"phone_number\",\n      onChange: ClientChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n      label: \"Date\",\n      name: \"date\",\n      type: 'date',\n      onChange: ClientChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n      label: \"Departure date\",\n      name: \"departure_date\",\n      type: 'date',\n      onChange: OrderChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), error ? /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 22\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(OrderForm, \"X46cbLik7Jv1cb1jfnelAx1/weI=\", false, function () {\n  return [useFetching];\n});\n_c = OrderForm;\nexport default OrderForm;\nvar _c;\n$RefreshReg$(_c, \"OrderForm\");","map":{"version":3,"names":["React","useContext","useState","classes","useFetching","NewsService","Context","HotelService","OrderService","MyInput","Loader","jsxDEV","_jsxDEV","OrderForm","setVisible","hotelID","_s","user","client","setClient","last_name","first_name","patronymic","email","phone_number","date","order","setOrder","hotel","departure_date","addOrder","isLoading","error","e","console","log","postItem","token","ClientChange","target","name","value","OrderChange","fileName","_jsxFileName","lineNumber","columnNumber","className","orderForm","onSubmit","children","label","onChange","required","type","_c","$RefreshReg$"],"sources":["C:/Users/Misha/source/repos/5 semester/WEB/lab4_client/src/components/Order Components/OrderForm/OrderForm.jsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\r\nimport classes from \"./OrderForm.module.css\";\r\nimport {useFetching} from \"../../../hooks/useFetching\";\r\nimport NewsService from \"../../../API/NewsService\";\r\nimport {Context} from \"../../../context\";\r\nimport HotelService from \"../../../API/HotelService\";\r\nimport OrderService from \"../../../API/OrderService\";\r\nimport MyInput from \"../../MyInput/MyInput\";\r\nimport Loader from \"../../Loader/Loader\";\r\nconst OrderForm = ({ setVisible, hotelID }) => {\r\n    const {user} = useContext(Context);\r\n    const [client, setClient] = useState({\r\n        // Initialize with your POST data\r\n        last_name: '',\r\n        first_name: '',\r\n        patronymic: '',\r\n        email: '',\r\n        phone_number: '',\r\n        date: '',\r\n        // ...\r\n    });\r\n    const [order, setOrder] = useState({\r\n        // Initialize with your POST data\r\n        hotel: hotelID,\r\n        departure_date: '',\r\n        // ...\r\n    });\r\n    const [addOrder, isLoading, error] = useFetching(async (e)=>{\r\n        // e.preventDefault();\r\n        console.log(\"Client: \", client);\r\n        console.log(\"Order: \", order);\r\n        order.hotel = hotelID;\r\n        await OrderService.postItem(client, order, user.token);\r\n        // console.log(n);\r\n        // console.log(error);\r\n        if(!error){\r\n            setVisible(false);\r\n        }\r\n    });\r\n    function ClientChange(e){\r\n        setClient({\r\n            ...client,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n    function OrderChange(e){\r\n        setOrder({\r\n            ...order,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n    return (\r\n        isLoading\r\n            ?\r\n            <Loader/>\r\n            :\r\n        <form className={classes.orderForm} onSubmit={addOrder}>\r\n            <MyInput label={\"Last name\"} name=\"last_name\" onChange={ClientChange} required/>\r\n            <MyInput label={\"First name\"} name=\"first_name\" onChange={ClientChange} required/>\r\n            <MyInput label={\"Patronymic\"} name=\"patronymic\" onChange={ClientChange} required/>\r\n            <MyInput label={\"Email\"} name=\"email\" onChange={ClientChange} required/>\r\n            <MyInput label={\"Phone number\"} name=\"phone_number\" onChange={ClientChange} required/>\r\n            <MyInput label={\"Date\"} name=\"date\" type={'date'} onChange={ClientChange} required/>\r\n            <MyInput label={\"Departure date\"} name=\"departure_date\" type={'date'} onChange={OrderChange} required/>\r\n\r\n            {error ? <label>Error: {error}</label> : null}\r\n\r\n            <button>Add</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default OrderForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}